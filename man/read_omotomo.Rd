% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/get_omotomo.R
\name{read_omotomo}
\alias{read_omotomo}
\title{Read GNSS LOS data from FMI Omotomo HDF5 format}
\usage{
read_omotomo(
  h5_path,
  earth_rad = 6371000,
  return_as_datatable = FALSE,
  lat_filt = c(-90, 90),
  long_filt = c(-180, 180),
  el_filt = c(0, 90),
  day_filt = NULL,
  h_filt = NULL,
  h_look_back = 0.5,
  rm_n = 5,
  verbose = FALSE,
  sat_modeling_alt
)
}
\arguments{
\item{h5_path}{Character. Path to the Omotomo HDF5 file.}

\item{earth_rad}{Numeric. Earth radius in meters. Default 6371e3.}

\item{return_as_datatable}{Logical. If TRUE returns a data.table, else a data.frame.}

\item{lat_filt}{Numeric vector length 2. Data latitude filter.}

\item{long_filt}{Numeric vector length 2. Data longitude filter.}

\item{el_filt}{Numeric vector length 2. Elevation filter in degrees. Used in the hour filter branch.}

\item{day_filt}{Integer vector or NULL. If not NULL, keeps only measurements from these DOYs.}

\item{h_filt}{Integer or NULL. If not NULL, keeps only measurements around this hour (on day_filt).}

\item{h_look_back}{Numeric. Hours to include before h_filt. Default 0.5.}

\item{rm_n}{Integer. Remove measurement arcs with fewer than rm_n samples. Default 5.}

\item{verbose}{Logical. Print progress messages.}

\item{sat_modeling_alt}{Numeric. Modeling altitude in meters for \verb{lat,long,alt} pierce coordinates. Default 1200e3.}
}
\value{
data.table or data.frame of GNSS observations.
}
\description{
Reads per station groups from an Omotomo HDF5 file, applies station domain
filtering, optional day and hour filters, and returns a combined table.
}
\details{
This implementation aligns the key output concepts with
\code{read_madrigal_gnss_stec} where reasonable:
\itemize{
\item \code{t} is returned as POSIXct in UTC
\item \code{dcb_key} is used as the grouping key name (renamed from older \code{bias_subject})
\item \code{pp_lat}, \code{pp_long}, \code{pp_alt} are computed for a 350 km pierce point
\item \code{lat}, \code{long}, \code{alt} are computed for a modeling altitude \code{sat_modeling_alt}
}

Notes:
\itemize{
\item Station longitude is stored as \code{station_lon} in attributes and is renamed to \code{station_long}.
\item Receiver altitude is stored as \code{station_h} in attributes and is renamed to \code{station_alt}.
\item Elevation angles outside \code{el_filt} are filtered when using the \code{day_filt + h_filt} branch.
If you want the same elevation filter always applied, add it before returning.
}
}
